<div class="max-w-6xl mx-auto py-8 px-4">
  <h1 class="text-4xl font-bold mb-6">Mycowriter Gem Documentation</h1>

  <div class="bg-green-50 border-l-4 border-green-500 p-6 mb-8">
    <p class="text-lg">
      <strong>Mycowriter</strong> is a Rails engine that provides intelligent taxonomic autocomplete for genus and species names, powered by MycoBank data.
    </p>
  </div>

  <!-- Installation Section -->
  <div class="bg-white rounded-lg shadow-lg p-8 mb-8">
    <h2 class="text-3xl font-semibold mb-4">Installation</h2>

    <div class="space-y-4">
      <div>
        <h3 class="text-xl font-semibold mb-2">1. Add to your Gemfile</h3>
        <pre class="bg-gray-900 text-gray-100 p-4 rounded overflow-x-auto"><code>gem 'mycowriter'</code></pre>
      </div>

      <div>
        <h3 class="text-xl font-semibold mb-2">2. Install the gem</h3>
        <pre class="bg-gray-900 text-gray-100 p-4 rounded overflow-x-auto"><code>bundle install
rails generate mycowriter:install</code></pre>
      </div>

      <div>
        <h3 class="text-xl font-semibold mb-2">3. Set up your database</h3>
        <p class="text-gray-700 mb-2">Mycowriter expects an <code class="bg-gray-100 px-2 py-1 rounded">mb_lists</code> table with MycoBank taxonomic data:</p>
        <pre class="bg-gray-900 text-gray-100 p-4 rounded overflow-x-auto"><code>create_table "mb_lists" do |t|
  t.string "taxon_name"
  t.string "rank_name"
  t.timestamps
end</code></pre>
      </div>

      <div>
        <h3 class="text-xl font-semibold mb-2">4. Use in your views</h3>
        <pre class="bg-gray-900 text-gray-100 p-4 rounded overflow-x-auto"><code>&lt;div data-controller="mycowriter--autocomplete"
     data-mycowriter--autocomplete-url-value="/mycowriter/autocomplete/genera"
     data-mycowriter--autocomplete-kind-value="genera"&gt;
  &lt;input type="text" data-mycowriter--autocomplete-target="input" /&gt;
  &lt;ul data-mycowriter--autocomplete-target="dropdown"&gt;&lt;/ul&gt;
  &lt;div data-mycowriter--autocomplete-target="list"&gt;&lt;/div&gt;
&lt;/div&gt;</code></pre>
      </div>
    </div>
  </div>

  <!-- Features Section -->
  <div class="bg-white rounded-lg shadow-lg p-8 mb-8">
    <h2 class="text-3xl font-semibold mb-4">Features</h2>

    <div class="grid md:grid-cols-2 gap-6">
      <div class="border-l-4 border-green-500 pl-4">
        <h3 class="text-xl font-semibold mb-2">üîç Real-time Autocomplete</h3>
        <p class="text-gray-700">Instant suggestions as users type genus and species names</p>
      </div>

      <div class="border-l-4 border-purple-500 pl-4">
        <h3 class="text-xl font-semibold mb-2">üè∑Ô∏è Token-based UI</h3>
        <p class="text-gray-700">Visual pills with remove buttons for selected taxa</p>
      </div>

      <div class="border-l-4 border-blue-500 pl-4">
        <h3 class="text-xl font-semibold mb-2">‚ö° Debounced Search</h3>
        <p class="text-gray-700">150ms debounce for optimal performance</p>
      </div>

      <div class="border-l-4 border-orange-500 pl-4">
        <h3 class="text-xl font-semibold mb-2">üéØ Smart Filtering</h3>
        <p class="text-gray-700">Species filtered by selected genera automatically</p>
      </div>

      <div class="border-l-4 border-red-500 pl-4">
        <h3 class="text-xl font-semibold mb-2">üìä MycoBank Data</h3>
        <p class="text-gray-700">Integrated with MycoBank's comprehensive taxonomic database</p>
      </div>

      <div class="border-l-4 border-indigo-500 pl-4">
        <h3 class="text-xl font-semibold mb-2">üîß Configurable</h3>
        <p class="text-gray-700">Customizable minimum characters, case sensitivity, and results limit</p>
      </div>
    </div>
  </div>

  <!-- Configuration Section -->
  <div class="bg-white rounded-lg shadow-lg p-8 mb-8">
    <h2 class="text-3xl font-semibold mb-4">Configuration</h2>

    <p class="mb-4">Customize Mycowriter in <code class="bg-gray-100 px-2 py-1 rounded">config/initializers/mycowriter.rb</code>:</p>

    <pre class="bg-gray-900 text-gray-100 p-4 rounded overflow-x-auto"><code>Mycowriter.configure do |config|
  # Minimum characters before autocomplete triggers (default: 3)
  config.min_characters = 3

  # Case-sensitive search (default: false)
  config.case_sensitive = false

  # Maximum results to return (default: 20)
  config.results_limit = 20
end</code></pre>
  </div>

  <!-- Usage Examples Section -->
  <div class="bg-white rounded-lg shadow-lg p-8 mb-8">
    <h2 class="text-3xl font-semibold mb-4">Usage Examples</h2>

    <div class="space-y-6">
      <div>
        <h3 class="text-xl font-semibold mb-3">Genus Autocomplete</h3>
        <pre class="bg-gray-900 text-gray-100 p-4 rounded overflow-x-auto"><code>&lt;div data-controller="mycowriter--autocomplete"
     data-mycowriter--autocomplete-url-value="&lt;%= mycowriter.genera_autocomplete_path %&gt;"
     data-mycowriter--autocomplete-kind-value="genera"
     data-mycowriter--autocomplete-mushroom-id-value="&lt;%= @mushroom.id %&gt;"&gt;

  &lt;input type="text"
         data-mycowriter--autocomplete-target="input"
         placeholder="Type genus name..."
         minlength="3"
         class="form-input" /&gt;

  &lt;ul data-mycowriter--autocomplete-target="dropdown"
      class="hidden absolute bg-white border shadow-lg"&gt;&lt;/ul&gt;

  &lt;div data-mycowriter--autocomplete-target="list"
       class="flex flex-wrap mt-2"&gt;&lt;/div&gt;

  &lt;input type="hidden"
         data-mycowriter--autocomplete-target="hiddenIds"
         name="mushroom[genus_ids]" /&gt;
&lt;/div&gt;</code></pre>
      </div>

      <div>
        <h3 class="text-xl font-semibold mb-3">Species Autocomplete (with Genus Filter)</h3>
        <pre class="bg-gray-900 text-gray-100 p-4 rounded overflow-x-auto"><code>&lt;div data-controller="mycowriter--autocomplete"
     data-mycowriter--autocomplete-url-value="&lt;%= mycowriter.species_autocomplete_path %&gt;"
     data-mycowriter--autocomplete-kind-value="species"
     data-mycowriter--autocomplete-mushroom-id-value="&lt;%= @mushroom.id %&gt;"&gt;

  &lt;input type="text"
         data-mycowriter--autocomplete-target="input"
         placeholder="Type species name..."
         minlength="3" /&gt;

  &lt;ul data-mycowriter--autocomplete-target="dropdown" class="hidden"&gt;&lt;/ul&gt;
  &lt;div data-mycowriter--autocomplete-target="list"&gt;&lt;/div&gt;
&lt;/div&gt;</code></pre>
      </div>
    </div>
  </div>

  <!-- Data Attribution Section -->
  <div class="bg-yellow-50 border-l-4 border-yellow-500 p-6 mb-8">
    <h3 class="text-xl font-semibold mb-3">üìù Data Attribution</h3>
    <p class="text-gray-700 mb-2">
      <strong>MycoBank License:</strong> Creative Commons CC BY-NC-ND
    </p>
    <ul class="list-disc list-inside space-y-1 text-gray-700">
      <li><strong>BY (Attribution):</strong> Credit must be given to MycoBank</li>
      <li><strong>NC (Non-Commercial):</strong> Non-commercial use only</li>
      <li><strong>ND (No Derivatives):</strong> Data used in unadapted form only</li>
    </ul>
    <p class="text-gray-700 mt-3">
      <strong>Attribution:</strong> MBList taxonomic data provided by MycoBank (<a href="https://www.mycobank.org" class="text-blue-600 hover:underline" target="_blank">www.mycobank.org</a>)
    </p>
  </div>

  <!-- API Routes Section -->
  <div class="bg-white rounded-lg shadow-lg p-8 mb-8">
    <h2 class="text-3xl font-semibold mb-4">API Routes</h2>

    <div class="space-y-4">
      <div class="border-l-4 border-green-500 pl-4">
        <code class="text-lg font-mono">GET /mycowriter/autocomplete/genera</code>
        <p class="text-gray-600 mt-1">Returns genus autocomplete results</p>
        <p class="text-sm text-gray-500">Parameters: <code>q</code> (query string, min 3 chars)</p>
      </div>

      <div class="border-l-4 border-blue-500 pl-4">
        <code class="text-lg font-mono">GET /mycowriter/autocomplete/species</code>
        <p class="text-gray-600 mt-1">Returns species autocomplete results</p>
        <p class="text-sm text-gray-500">Parameters: <code>q</code> (query string), <code>mushroom_id</code> (optional, for genus filtering)</p>
      </div>
    </div>
  </div>

  <!-- Links Section -->
  <div class="bg-white rounded-lg shadow-lg p-8 mb-8">
    <h2 class="text-3xl font-semibold mb-4">Resources</h2>

    <div class="grid md:grid-cols-2 gap-4">
      <a href="https://github.com/mrdbidwill/mycowriter" class="block p-4 border-2 border-gray-200 rounded hover:border-green-500 transition">
        <h3 class="text-xl font-semibold text-green-600 mb-2">üì¶ GitHub Repository</h3>
        <p class="text-gray-600">View source code and contribute</p>
      </a>

      <a href="https://rubygems.org/gems/mycowriter" class="block p-4 border-2 border-gray-200 rounded hover:border-green-500 transition">
        <h3 class="text-xl font-semibold text-green-600 mb-2">üíé RubyGems Page</h3>
        <p class="text-gray-600">View gem statistics and versions</p>
      </a>

      <a href="https://www.mycobank.org" class="block p-4 border-2 border-gray-200 rounded hover:border-green-500 transition" target="_blank">
        <h3 class="text-xl font-semibold text-green-600 mb-2">üçÑ MycoBank</h3>
        <p class="text-gray-600">Source of taxonomic data</p>
      </a>

      <a href="/" class="block p-4 border-2 border-gray-200 rounded hover:border-green-500 transition">
        <h3 class="text-xl font-semibold text-green-600 mb-2">‚úçÔ∏è Mycowriter App</h3>
        <p class="text-gray-600">Try the full mycowriter application</p>
      </a>
    </div>
  </div>

  <!-- Support Section -->
  <div class="bg-white rounded-lg shadow-lg p-8">
    <h2 class="text-3xl font-semibold mb-4">Support & Contributing</h2>

    <div class="space-y-4 text-gray-700">
      <p>
        <strong>Found a bug?</strong> Please open an issue on
        <a href="https://github.com/mrdbidwill/mycowriter/issues" class="text-green-600 hover:underline">GitHub</a>.
      </p>

      <p>
        <strong>Want to contribute?</strong> Pull requests are welcome! Please read our contributing guidelines.
      </p>

      <p>
        <strong>Need help?</strong> Check out our
        <a href="https://github.com/mrdbidwill/mycowriter/blob/main/README.md" class="text-green-600 hover:underline">README</a>
        or open a discussion on GitHub.
      </p>
    </div>

    <div class="mt-6">
      <a href="/" class="text-green-600 hover:text-green-800 font-semibold">‚Üê Back to Home</a>
    </div>
  </div>
</div>
